
# -*- coding utf-8 -*-

importrequests,bs4

frombs4importBeautifulSoup


sogou =open('SOGOU.html',"w",newline="",encoding="UTF-8-sig")


headers = {"User-Agent":"Mozilla/5.0 (Windows NT6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.88 Safari/537.36"}


a =input("输入要搜索的内容：")


url ="https://www.sogou.com/web?query=";+str(a)


res = requests.get(url,headers=headers)


html = res.text


soup = BeautifulSoup(html,"html.parser")


sogou.write(str(soup))


sogou.close()



importrequests,bs4,csv

frombs4importBeautifulSoup


csv_file =open('jzc.csv','w',newline='',encoding='UTF-8-sig')


writer = csv.writer(csv_file)


writer.writerow(['标签','内容'])


headers = {"user-agent":"Mozilla/5.0 (Windows NT6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.88 Safari/537.36"}


url ="http://www.npc.gov.cn/npc/c12435/201811/045c859c5a31443e855f6105fe22852b.shtml";


res = requests.get(url,headers=headers)


# soup = BeautifulSoup(res.text,text,parser)


soup = BeautifulSoup(res.text,"html.parser")


law = soup.find('div',class_='tit').find_all('h1')

laws = soup.find('div',id='Zoom').find_all('p')


forxinlaws:

    print(law)

    print(x)

writer.writerow([law,x])


csv_file.close()




importrequests, csv

frombs4importBeautifulSoup


headers = {'user-agent':'Mozilla/5.0 (Windows NT6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.88 Safari/537.36'}


csv_file =open('bocai.csv','w',newline='',encoding='UTF-8-sig')


writer = csv.writer(csv_file)


writer.writerow(['品名','最低价','平均价','最高价','规格','单位','发布日期'])


forxin range(10):

url ="http://www.xinfadi.com.cn/marketanalysis/0/list/";+str(x+1)+".shtml"


res = requests.get(url,headers=headers)


html = res.text


soup = BeautifulSoup(html,'html.parser')


items = soup.find_all(class_='tr_color')


    print('\n以下为第'+str(x+1) +"页\n")

   

    foriteminitems:


pm = item.find_all('td')[0].text


zdj = item.find_all('td')[1].text


pjj = item.find_all('td')[2].text


zgj = item.find_all('td')[3].text


gg = item.find_all('td')[4].text


dw = item.find_all('td')[5].text


fbrq = item.find_all('td')[6].text


        # print( pm + ' ' + zdj + ' ' + pjj + ' ' + zgj + ' ' + gg + ' ' + dw + ' ' + fbrq )

        print(pm,zdj,pjj,zgj,gg,dw,fbrq)

        # print(item.text)

writer.writerow([pm,zdj,pjj,zdj,gg,dw,fbrq])
